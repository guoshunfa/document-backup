(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{385:function(e,t,n){"use strict";n.r(t);var r=n(44),o=Object(r.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"mongodb-shell语法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-shell语法"}},[e._v("#")]),e._v(" MongoDB shell语法")]),e._v(" "),n("h2",{attrs:{id:"命令行选项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#命令行选项"}},[e._v("#")]),e._v(" 命令行选项")]),e._v(" "),n("p",[e._v("该"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1),e._v("外壳可以与众多的选择开始。有关所有可用选项的详细信息，请参见 "),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/",target:"_blank",rel:"noopener noreferrer"}},[e._v("mongo shell"),n("OutboundLink")],1),e._v("页面。")]),e._v(" "),n("p",[e._v("下表显示了一些常见的选项"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1),e._v("：")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[e._v("选项")]),e._v(" "),n("th",{staticStyle:{"text-align":"left"}},[e._v("描述")])])]),e._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#cmdoption-mongo-help",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("--help")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("显示命令行选项")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#cmdoption-mongo-nodb",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("--nodb")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("在"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1),e._v("不连接数据库的情况下启动Shell。要稍后连接，请参阅“ "),n("a",{attrs:{href:"https://mongodb.net.cn/manual/tutorial/write-scripts-for-the-mongo-shell/#mongo-shell-new-connections",target:"_blank",rel:"noopener noreferrer"}},[e._v("打开新连接”"),n("OutboundLink")],1),e._v("。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#cmdoption-mongo-shell",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("--shell")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("与JavaScript文件（即"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#mongo-shell-file",target:"_blank",rel:"noopener noreferrer"}},[n("OutboundLink")],1),e._v("）结合使用，可 "),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1),e._v("在运行JavaScript文件后继续在 Shell中运行。有关示例，请参见"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/tutorial/write-scripts-for-the-mongo-shell/#mongo-shell-javascript-file",target:"_blank",rel:"noopener noreferrer"}},[e._v("JavaScript文件"),n("OutboundLink")],1),e._v("。")])])])]),e._v(" "),n("h2",{attrs:{id:"命令助手"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#命令助手"}},[e._v("#")]),e._v(" 命令助手")]),e._v(" "),n("p",[e._v("该"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1),e._v("外壳提供了各种帮助。下表显示了一些常见的帮助方法和命令：")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[e._v("帮助方法和命令")]),e._v(" "),n("th",{staticStyle:{"text-align":"left"}},[e._v("描述")])])]),e._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[e._v("help")])]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("显示帮助。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.help/#db.help",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.help()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("显示有关数据库方法的帮助。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[e._v("db.<collection>.help()")])]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("在收集方法上显示帮助。该"),n("code",[e._v("<collection>")]),e._v("可以是现有的集合或不存在的集合的名称。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[e._v("show dbs")])]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("打印服务器上所有数据库的列表。该操作与"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/command/listDatabases/#dbcmd.listDatabases",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("listDatabases")]),n("OutboundLink")],1),e._v("命令相对应。如果部署使用访问控制运行，则该操作将根据用户权限返回不同的值。有关详细信息，请参见 "),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/command/listDatabases/#listdatabases-behavior",target:"_blank",rel:"noopener noreferrer"}},[e._v("listDatabases行为"),n("OutboundLink")],1),e._v("。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[e._v("use <db>")])]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("将当前数据库切换到"),n("code",[e._v("<db>")]),e._v("。该"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1),e._v("shell变量"),n("code",[e._v("db")]),e._v("被设置为当前数据库。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[e._v("show collections")])]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("打印当前数据库的所有集合的列表。也可以看看"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/release-notes/4.0-compatibility/#compat-show-collections",target:"_blank",rel:"noopener noreferrer"}},[e._v("显示收藏"),n("OutboundLink")],1)])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[e._v("show users")])]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("打印当前数据库的用户列表。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[e._v("show roles")])]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("打印当前数据库的所有角色的列表，包括用户定义角色和内置角色。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[e._v("show profile")])]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("打印耗时1毫秒或更长时间的五个最新操作。有关更多信息，请参见"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/tutorial/manage-the-database-profiler/",target:"_blank",rel:"noopener noreferrer"}},[e._v("数据库分析器"),n("OutboundLink")],1),e._v("上的文档。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[e._v("show databases")])]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("打印所有可用数据库的列表。该操作与"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/command/listDatabases/#dbcmd.listDatabases",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("listDatabases")]),n("OutboundLink")],1),e._v("命令相对应。如果部署使用访问控制运行，则该操作将根据用户权限返回不同的值。有关详细信息，请参见 "),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/command/listDatabases/#listdatabases-behavior",target:"_blank",rel:"noopener noreferrer"}},[e._v("listDatabases行为"),n("OutboundLink")],1),e._v("。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[e._v("load()")])]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("执行一个JavaScript文件。有关 更多信息，请参见 "),n("a",{attrs:{href:"https://mongodb.net.cn/manual/tutorial/write-scripts-for-the-mongo-shell/",target:"_blank",rel:"noopener noreferrer"}},[e._v("mongo Shell的编写脚本"),n("OutboundLink")],1),e._v("。")])])])]),e._v(" "),n("h2",{attrs:{id:"shell-javascript基本操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#shell-javascript基本操作"}},[e._v("#")]),e._v(" Shell JavaScript基本操作")]),e._v(" "),n("p",[e._v("该"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1),e._v("外壳程序提供了用于数据库操作的 "),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/",target:"_blank",rel:"noopener noreferrer"}},[e._v("JavaScript API"),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("p",[e._v("在"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1),e._v("外壳程序中，"),n("code",[e._v("db")]),e._v("是引用当前数据库的变量。该变量自动设置为默认数据库，"),n("code",[e._v("test")]),e._v("或者在使用切换当前数据库时设置。"),n("code",[e._v("use <db>")])]),e._v(" "),n("p",[e._v("下表显示了一些常见的JavaScript操作：")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[e._v("JavaScript数据库操作")]),e._v(" "),n("th",{staticStyle:{"text-align":"left"}},[e._v("描述")])])]),e._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.auth/#db.auth",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.auth()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("如果以安全模式运行，请对用户进行身份验证。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[e._v("coll = db.<collection>")])]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("将当前数据库中的特定集合设置为一个变量 "),n("code",[e._v("coll")]),e._v("，如以下示例所示："),n("code",[e._v("coll = db.myCollection;")]),e._v("您可以"),n("code",[e._v("myCollection")]),e._v("使用变量对变量执行操作，如以下示例所示："),n("code",[e._v("coll.find();")])])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.find/#db.collection.find",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.find()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("查找集合中的所有文档并返回一个游标。有关更多信息和示例，请参见"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.find/#db.collection.find",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.find()")]),n("OutboundLink")],1),e._v("和 "),n("a",{attrs:{href:"https://mongodb.net.cn/manual/tutorial/query-documents/",target:"_blank",rel:"noopener noreferrer"}},[e._v("查询文档"),n("OutboundLink")],1),e._v("。有关"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/tutorial/iterate-a-cursor/",target:"_blank",rel:"noopener noreferrer"}},[e._v("在外壳"),n("OutboundLink")],1),e._v("中处理游标的信息，请参阅"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/tutorial/iterate-a-cursor/",target:"_blank",rel:"noopener noreferrer"}},[e._v("在mongo Shell中迭代游标"),n("OutboundLink")],1),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1),e._v("。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.insertOne/#db.collection.insertOne",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.insertOne()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("将新文档插入集合中。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.insertMany/#db.collection.insertMany",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.insertMany()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("将多个新文档插入集合中。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.updateOne/#db.collection.updateOne",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.updateOne()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("更新集合中的单个现有文档。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.updateMany/#db.collection.updateMany",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.updateMany()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("更新集合中的多个现有文档。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.save/#db.collection.save",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.save()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("插入新文档或更新集合中的现有文档。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.deleteOne/#db.collection.deleteOne",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.deleteOne()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("从集合中删除单个文档。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.deleteMany/#db.collection.deleteMany",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.deleteMany()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("从集合中删除文档。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.drop/#db.collection.drop",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.drop()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("完全删除或删除集合。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.createIndex/#db.collection.createIndex",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.createIndex()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("如果索引不存在，则在集合上创建一个新索引；否则，该操作无效。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.getSiblingDB/#db.getSiblingDB",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.getSiblingDB()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("使用相同的连接返回对另一个数据库的引用，而无需显式切换当前数据库。这允许跨数据库查询。")])])])]),e._v(" "),n("p",[e._v("有关在shell中执行操作的更多信息，请参见：")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://mongodb.net.cn/manual/crud/",target:"_blank",rel:"noopener noreferrer"}},[e._v("MongoDB CRUD操作"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/#js-administrative-methods",target:"_blank",rel:"noopener noreferrer"}},[e._v("mongo Shell方法"),n("OutboundLink")],1)])]),e._v(" "),n("h2",{attrs:{id:"查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查询"}},[e._v("#")]),e._v(" 查询")]),e._v(" "),n("p",[e._v("在"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1),e._v("Shell中，使用"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.find/#db.collection.find",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("find()")]),n("OutboundLink")],1),e._v("和"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.findOne/#db.collection.findOne",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("findOne()")]),n("OutboundLink")],1),e._v(" 方法执行读取操作 。")]),e._v(" "),n("p",[e._v("该"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.find/#db.collection.find",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("find()")]),n("OutboundLink")],1),e._v("方法返回一个游标对象，"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1),e._v("shell对其进行迭代以在屏幕上打印文档。默认情况下，"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1),e._v("打印前20个结果 "),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1),e._v("。shell将提示用户“ ”以继续迭代下20个结果。"),n("code",[e._v("Type it")])]),e._v(" "),n("p",[e._v("下表提供了"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1),e._v("Shell 中的一些常见读取操作 ：")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[e._v("读取操作")]),e._v(" "),n("th",{staticStyle:{"text-align":"left"}},[e._v("描述")])])]),e._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.find/#db.collection.find",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.find()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[n("code",[e._v("<query>")]),e._v("在集合中找到符合条件的文档。如果"),n("code",[e._v("<query>")]),e._v("未指定标准或该标准为空（即"),n("code",[e._v("{}")]),e._v("），则读取操作将选择集合中的所有文档。下面的示例选择"),n("code",[e._v("users")]),e._v(" 集合中"),n("code",[e._v("name")]),e._v("字段等于的文档"),n("code",[e._v('"Joe"')]),e._v("："),n("code",[e._v('coll = db.users; coll.find( { name: "Joe" } );')]),e._v("有关指定"),n("code",[e._v("<query>")]),e._v("条件的更多信息，请参阅“ "),n("a",{attrs:{href:"https://mongodb.net.cn/manual/tutorial/query-documents/#read-operations-query-argument",target:"_blank",rel:"noopener noreferrer"}},[e._v("指定相等条件”"),n("OutboundLink")],1),e._v("。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.find/#db.collection.find",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.find(, )")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("查找符合"),n("code",[e._v("<query>")]),e._v("条件的文档，然后仅返回中的特定字段"),n("code",[e._v("<projection>")]),e._v("。以下示例从集合中选择所有文档，但仅返回该"),n("code",[e._v("name")]),e._v("字段和该"),n("code",[e._v("_id")]),e._v("字段。将 "),n("code",[e._v("_id")]),e._v("始终返回，除非明确指定有来无回。"),n("code",[e._v("coll = db.users; coll.find( { }, { name: true } );")]),e._v("有关指定的更多信息"),n("code",[e._v("<projection>")]),e._v("，请参见 "),n("a",{attrs:{href:"https://mongodb.net.cn/manual/tutorial/project-fields-from-query-results/#read-operations-projection",target:"_blank",rel:"noopener noreferrer"}},[e._v("要从查询返回的项目字段"),n("OutboundLink")],1),e._v("。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/cursor.sort/#cursor.sort",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.find().sort()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("返回指定结果。"),n("code",[e._v("<sort order>")]),e._v("以下示例从集合中选择所有文档，并返回按"),n("code",[e._v("name")]),e._v("字段升序（"),n("code",[e._v("1")]),e._v("）排序的结果。使用"),n("code",[e._v("-1")]),e._v("降序排序："),n("code",[e._v("coll = db.users; coll.find().sort( { name: 1 } );")])])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/cursor.sort/#cursor.sort",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.find().sort()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("返回"),n("code",[e._v("<query>")]),e._v("与指定条件中的条件相符的文档。"),n("code",[e._v("<sort order>")])])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/cursor.limit/#cursor.limit",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.find( ... ).limit( )")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("将结果限制为"),n("code",[e._v("<n>")]),e._v("行。如果只需要一定数量的行以获得最佳性能，则强烈建议使用。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/cursor.skip/#cursor.skip",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.find( ... ).skip( )")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("跳过"),n("code",[e._v("<n>")]),e._v("结果。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.count/#db.collection.count",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.count()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("返回集合中的文档总数。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/cursor.count/#cursor.count",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.find().count()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("返回与查询匹配的文档总数。在"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/cursor.count/#cursor.count",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("count()")]),n("OutboundLink")],1),e._v("忽略"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/cursor.limit/#cursor.limit",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("limit()")]),n("OutboundLink")],1),e._v("和"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/cursor.skip/#cursor.skip",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("skip()")]),n("OutboundLink")],1),e._v("。例如，如果有100条记录匹配，但限制为10， "),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/cursor.count/#cursor.count",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("count()")]),n("OutboundLink")],1),e._v("则将返回100。这比迭代自己的速度更快，但仍然需要时间。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.findOne/#db.collection.findOne",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.collection.findOne()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("查找并返回一个文档。如果找不到，则返回null。以下示例在"),n("code",[e._v("users")]),e._v(" 集合中选择一个与"),n("code",[e._v("name")]),e._v("字段匹配的文档"),n("code",[e._v('"Joe"')]),e._v("："),n("code",[e._v('coll = db.users; coll.findOne( { name: "Joe" } );')]),e._v("在内部，该"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.findOne/#db.collection.findOne",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("findOne()")]),n("OutboundLink")],1),e._v(" 方法是"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.find/#db.collection.find",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("find()")]),n("OutboundLink")],1),e._v("带有的方法"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/cursor.limit/#cursor.limit",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("limit(1)")]),n("OutboundLink")],1),e._v("。")])])])]),e._v(" "),n("p",[e._v("有关更多信息和示例，请参阅"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/tutorial/query-documents/",target:"_blank",rel:"noopener noreferrer"}},[e._v("查询文档"),n("OutboundLink")],1),e._v("文档。请参阅"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/operator/query/",target:"_blank",rel:"noopener noreferrer"}},[e._v("查询和投影运算符"),n("OutboundLink")],1),e._v("以指定其他查询运算符。")]),e._v(" "),n("h2",{attrs:{id:"错误检查方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#错误检查方法"}},[e._v("#")]),e._v(" 错误检查方法")]),e._v(" "),n("p",[e._v("该"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1),e._v("壳write方法集成了 "),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/write-concern/",target:"_blank",rel:"noopener noreferrer"}},[e._v("写关注"),n("OutboundLink")],1),e._v("直接进入方法执行，并返回一个"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/WriteResult/#WriteResult",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("WriteResult()")]),n("OutboundLink")],1),e._v("包含该操作的结果，包括任何写入错误和写入错误的关注对象。")]),e._v(" "),n("h2",{attrs:{id:"管理命令助手"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#管理命令助手"}},[e._v("#")]),e._v(" 管理命令助手")]),e._v(" "),n("p",[e._v("下表列出了一些支持数据库管理的常用方法：")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[n("strong",[e._v("JavaScript数据库管理方法")])]),e._v(" "),n("th",{staticStyle:{"text-align":"left"}},[n("strong",[e._v("描述")])])])]),e._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.collection.renameCollection/#db.collection.renameCollection",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.fromColl.renameCollection()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("将集合从重命名"),n("code",[e._v("fromColl")]),e._v("为"),n("code",[e._v("<toColl>")]),e._v("。请参阅 "),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/limits/#restrictions-on-db-names",target:"_blank",rel:"noopener noreferrer"}},[e._v("命名限制"),n("OutboundLink")],1),e._v("。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.getCollectionNames/#db.getCollectionNames",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.getCollectionNames()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("获取当前数据库中所有集合的列表。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/db.dropDatabase/#db.dropDatabase",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("db.dropDatabase()")]),n("OutboundLink")],1)]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("删除当前数据库。")])])])]),e._v(" "),n("p",[e._v("有关"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/#js-administrative-methods",target:"_blank",rel:"noopener noreferrer"}},[e._v("方法"),n("OutboundLink")],1),e._v("的完整列表，另请参见"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/#js-administrative-methods",target:"_blank",rel:"noopener noreferrer"}},[e._v("管理数据库"),n("OutboundLink")],1),e._v("方法。")]),e._v(" "),n("h2",{attrs:{id:"打开附加连接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#打开附加连接"}},[e._v("#")]),e._v(" 打开附加连接")]),e._v(" "),n("p",[e._v("您可以在"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1),e._v("外壳中创建新的连接。")]),e._v(" "),n("p",[e._v("下表显示了创建连接的方法：")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[e._v("JavaScript连接创建方法")]),e._v(" "),n("th",{staticStyle:{"text-align":"left"}},[e._v("描述")])])]),e._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[e._v('db = connect("<host><:port>/<dbname>")')])]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("打开一个新的数据库连接。")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[e._v('conn = new Mongo() db = conn.getDB("dbname")')])]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("使用打开与新服务器的连接。"),n("code",[e._v("new Mongo()")]),e._v("使用"),n("code",[e._v("getDB()")]),e._v("连接方法选择数据库。")])])])]),e._v(" "),n("p",[e._v("另请参阅"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/tutorial/write-scripts-for-the-mongo-shell/#mongo-shell-new-connections",target:"_blank",rel:"noopener noreferrer"}},[e._v("打开新连接"),n("OutboundLink")],1),e._v("以获取有关从"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1),e._v("Shell "),n("a",{attrs:{href:"https://mongodb.net.cn/manual/tutorial/write-scripts-for-the-mongo-shell/#mongo-shell-new-connections",target:"_blank",rel:"noopener noreferrer"}},[e._v("打开新连接"),n("OutboundLink")],1),e._v("的更多信息。")]),e._v(" "),n("h2",{attrs:{id:"杂项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#杂项"}},[e._v("#")]),e._v(" 杂项")]),e._v(" "),n("p",[e._v("下表显示了一些其他方法：")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[n("strong",[e._v("方法")])]),e._v(" "),n("th",{staticStyle:{"text-align":"left"}},[n("strong",[e._v("描述")])])])]),e._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("code",[e._v("Object.bsonsize(<document>)")])]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("打印"),n("code",[e._v("<document>")]),e._v(" 的"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/glossary/#term-bson",target:"_blank",rel:"noopener noreferrer"}},[e._v("BSON"),n("OutboundLink")],1),e._v("大小（以字节为单位）")])])])]),e._v(" "),n("h2",{attrs:{id:"其他资源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#其他资源"}},[e._v("#")]),e._v(" 其他资源")]),e._v(" "),n("p",[e._v("考虑以下解决"),n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1),e._v("外壳及其接口的参考资料 ：")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/program/mongo/#bin.mongo",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("mongo")]),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/method/#js-administrative-methods",target:"_blank",rel:"noopener noreferrer"}},[e._v("mongo Shell方法"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/command/#database-commands",target:"_blank",rel:"noopener noreferrer"}},[e._v("数据库命令"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://mongodb.net.cn/manual/reference/aggregation/#aggregation-reference",target:"_blank",rel:"noopener noreferrer"}},[e._v("汇总参考"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://docs.mongodb.com/getting-started/shell",target:"_blank",rel:"noopener noreferrer"}},[e._v("入门指南"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=o.exports}}]);